<Resource>
  <Folder name="DarkSkin">
    <InstanceStyle name="Style" content="File">..\..\Host\Resources\DarkSkin\Style.xml</InstanceStyle>
  </Folder>

  <Instance name="ThemeResource">
    <Instance ref.CodeBehind="false" ref.Class="demo::TestTheme" xmlns:x="testtheme::*">
      <ThemeTemplates Name="TestSkin">
      </ThemeTemplates>
    </Instance>
  </Instance>

  <Instance name="ButtonTemplateResource">
    <Instance ref.CodeBehind="false" ref.Class="demo::ButtonTemplate">
      <ref.Members>
        <![CDATA[
          prop Counter : int = 0 {}
        ]]>
      </ref.Members>
      <ButtonTemplate ref.Name="self" MinSizeLimitation="LimitToElementAndChildren">
        <Bounds AlignmentToParent="left:0 top:0 right:0 bottom:0">
          <ev.leftButtonUp-eval>
            <![CDATA[
            {
              self.Counter = self.Counter + 1;
            }
          ]]>
          </ev.leftButtonUp-eval>
          <Button ref.Name="button" Text-format="$(self.Text): $(self.Counter)">
            <att.BoundsComposition-set AlignmentToParent="left:20 top:20 right:20 bottom:20"/>
          </Button>
        </Bounds>
        <SolidBorder Color="#FFFF00"/>
      </ButtonTemplate>
    </Instance>
  </Instance>

  <Instance name="MainWindowResource">
    <Instance ref.CodeBehind="false" ref.Class="demo::TestWindow">
      <Window ref.Name="self" Text="MainWindow" ClientSize="x:640 y:480" TopMost="true">
        <Button ref.Name="button" Text="0" ControlTemplate="demo::ButtonTemplate">
          <ev.Clicked-eval>
            <![CDATA[
              {
                button.Text = (cast int button.Text) + 1;
              }
            ]]>
          </ev.Clicked-eval>
          <att.BoundsComposition-set AlignmentToParent="left:50 top:50 right:50 bottom:50"/>
        </Button>
      </Window>
    </Instance>
  </Instance>
</Resource>
